(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,n){e.exports=n.p+"static/media/menu.c9d61f05.svg"},30:function(e,t,n){e.exports=n(64)},35:function(e,t,n){},36:function(e,t,n){},54:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),c=n.n(o),l=n(10),s=(n(35),n(3)),u=n(1),i=n(28),m=n.n(i),d=(n(36),function(e){var t=e.show,n=e.closeModal,o=e.Component;return Object(a.useEffect)((function(){t&&document.querySelector("html").classList.add("blocked-scroll"),!t&&document.querySelector("html").classList.remove("blocked-scroll")}),[t]),t&&r.a.createElement("div",{className:"modal-container"},r.a.createElement("section",{className:"modal-background",onClick:n}),r.a.createElement("div",{className:"modal-main-wrapper"},r.a.createElement("section",{className:"modal-main"},t&&o&&r.a.createElement(o,{closeModal:n}))))}),f=n(9),h=n(8),p=n(14),g=n(13),b=n.n(g),E=function e(){var t=this;Object(p.a)(this,e),this.loggedInUser=function(){return t.service.get("/isLoggedIn").then((function(e){return e.data}))},this.signup=function(e){var n=e.username,a=e.password;return t.service.post("/signup",{username:n,password:a}).then((function(e){return e.data}))},this.login=function(e){var n=e.username,a=e.password;return t.service.post("/login",{username:n,password:a}).then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data}))},this.service=b.a.create({baseURL:"".concat("https://excercise-care.herokuapp.com","/auth"),withCredentials:!0}),this.axiosCancelSource=b.a.CancelToken.source()},v=function(e){var t=e.setTheUser,n=e.closeModal,o=Object(a.useState)({username:"",password:""}),c=Object(s.a)(o,2),l=c[0],u=c[1],i=new E,m=function(e){return u(Object(h.a)(Object(h.a)({},l),{},Object(f.a)({},e.target.id,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i.login(l).then((function(e){return e.user?t(e.user):console.log("the user already exists")})).then((function(){return n()})).catch((function(e){return console.log(e)}))}},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",value:l.username,onChange:m,placeholder:"Your username"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",value:l.password,onChange:m,placeholder:"Write your password here"}),r.a.createElement("button",{type:"submit"},"Submit")))},w=function(e){var t=e.closeModal,n=e.setTheUser,o=Object(a.useState)({username:"",password1:"",password2:""}),c=Object(s.a)(o,2),l=c[0],u=c[1],i=new E,m=function(e){return u(Object(h.a)(Object(h.a)({},l),{},Object(f.a)({},e.target.id,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),l.password1!==l.password2)return console.log("Not the same password");i.signup({username:l.username,password:l.password1}).then((function(e){return e.user?n(e.user):console.log("the user already exist")})).then((function(){return t()})).catch((function(e){return console.log(e)}))}},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",value:l.username,placeholder:"Choose your username",onChange:m}),r.a.createElement("label",{htmlFor:"password1"},"Password"),r.a.createElement("input",{type:"password",id:"password1",placeholder:"Write your password",value:l.password1,onChange:m}),r.a.createElement("label",{htmlFor:"password2"},"Repear your password"),r.a.createElement("input",{type:"password",id:"password2",placeholder:"The same password",value:l.password2,onChange:m}),r.a.createElement("button",{type:"submit"},"Submit")))},O=(n(54),function(e){var t=e.loggedInUser,n=e.setTheUser,o=e.logout,c=Object(a.useState)(!1),u=Object(s.a)(c,2),i=u[0],f=u[1],h=Object(a.useState)(!1),p=Object(s.a)(h,2),g=p[0],b=p[1];return Object(a.useEffect)((function(){var e=window.pageYOffset;window.onscroll=function(){e<window.pageYOffset+.1?document.getElementsByClassName("navbar")[0].classList.add("uphidden"):e>window.pageYOffset-.1&&document.getElementsByClassName("navbar")[0].classList.remove("uphidden"),e=window.pageYOffset}})),Object(a.useEffect)((function(){g&&document.querySelector("body").classList.add("blocked-scroll"),!g&&document.querySelector("body").classList.remove("blocked-scroll")}),[g]),r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar-container"},r.a.createElement("div",{className:"nav-header"},r.a.createElement(l.b,{to:"/home",className:"home-link",onClick:function(){return g(!1)}},"CareExpand"),r.a.createElement("figure",null,r.a.createElement("img",{className:"menu-img ".concat(g?"opened-menu":""),src:m.a,alt:"menu",onClick:function(){return b(!g)}}))),r.a.createElement("nav",{className:"nav-links ".concat(g?"show-menu":"")},r.a.createElement("ul",null,r.a.createElement("li",null,t?r.a.createElement(l.b,{to:"/showPatients",className:"link",onClick:function(){return b(!1)}}," Patients"):r.a.createElement("button",{className:"link btn-link",onClick:function(){f("login"),b(!1)}},"Login")),r.a.createElement("li",null,t?r.a.createElement("button",{className:"link btn-link",onClick:function(){o(),b(!1)}},"Logout"):r.a.createElement("button",{className:"link btn-link",onClick:function(){f("signup"),b(!1)}},"Signup"))))),i&&r.a.createElement(d,{show:i,closeModal:function(){return f(!1)},Component:"login"===i?function(){return r.a.createElement(v,{closeModal:function(){return f(!1)},setTheUser:n})}:function(){return r.a.createElement(w,{closeModal:function(){return f(!1)},setTheUser:n})}}))}),j=function(e){var t=e.name,n=e._id;return r.a.createElement("article",{style:{padding:"5px 10px",backgroundColor:"#999"}},r.a.createElement(l.b,{to:"/showPatients/".concat(n)},t))},k=function e(){var t=this;Object(p.a)(this,e),this.newPatient=function(e){return t.service.post("/newPatient",e).then((function(e){return e.data}))},this.getPatient=function(e){return t.service.get("/getPatient/"+e).then((function(e){return e.data}))},this.getAllPatiens=function(){return t.service.get("/getAllPatients").then((function(e){return e.data}))},this.service=b.a.create({baseURL:"".concat("https://excercise-care.herokuapp.com","/patient"),withCredentials:!0})},C=function(e){var t=e.closeModal,n=e.setPatients,o=Object(a.useState)({name:"",age:0,gender:""}),c=Object(s.a)(o,2),l=c[0],u=c[1],i=new k,m=function(e){return u(Object(h.a)(Object(h.a)({},l),{},Object(f.a)({},e.target.id,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){return e.preventDefault(),l.name?l.age<=0?console.log("invalid-age"):"male"!==l.gender&&"female"!==l.gender&&"other"!==l.gender?console.log("invalid-gender"):void i.newPatient(l).then((function(e){return e.data})).then((function(e){return n(e)})).then((function(){return t()})).catch((function(e){return console.log(e)})):console.log("no-name")}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{id:"name",type:"text",value:l.name,onChange:m})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"age"},"Age"),r.a.createElement("input",{id:"age",type:"number",value:l.age,onChange:m})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"gender"},"Gender"),r.a.createElement("input",{id:"gender",type:"text",value:l.gender,onChange:m})),r.a.createElement("button",{type:"submit"},"Submit")))},y=function(e){e.loggedInUser,e.closeModal;var t=Object(a.useState)(null),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(!1),u=Object(s.a)(l,2),i=u[0],m=u[1],f=new k;return Object(a.useEffect)((function(){f.getAllPatiens().then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement("section",null,o?o.map((function(e){return r.a.createElement(j,Object.assign({key:e._id},e))})):"Loading",r.a.createElement("button",{onClick:function(){return m(!0)}},"Create a new patient"),i&&r.a.createElement(d,{show:i,Component:function(){return r.a.createElement(C,{setPatients:c,closeModal:function(){return m(!1)}})},closeModal:function(){return m(!1)}}))};n(63);function S(){var e=new E,t=Object(a.useState)(null),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(""),i=Object(s.a)(l,2),m=(i[0],i[1]),d=(Object(a.useCallback)((function(){return m("")}),[]),Object(a.useCallback)((function(){e.loggedInUser().then((function(e){return c(e.user)})).catch((function(){return m("An error has occurred")}))}),[]));return Object(a.useEffect)((function(){return d()}),[d]),r.a.createElement("div",null,r.a.createElement(O,{loggedInUser:o,setTheUser:c,logout:function(){e.logout().then((function(e){return c(null)})).catch((function(e){return e}))}}),r.a.createElement("div",{style:{marginTop:"10vh"}},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/showPatients",render:function(){return o?r.a.createElement(y,null):r.a.createElement(u.a,{to:"/home"})}}),r.a.createElement(u.b,{path:"/showPatients/:patientId"}),r.a.createElement(u.a,{to:"/home"}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.ff1ef0b4.chunk.js.map